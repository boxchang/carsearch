{% extends 'bases/base.html' %}
{% block title %}
    車輛資料搜尋結果
{% endblock %}
{% block container %}
<div class="row">
    <div class="col-12">
        <div id="car_data" class="table-responsive" style="height:600px; overflow:auto;">
<table class="table table-striped table-bordered table-hover">
    <thead class="thead-dark">
        <tr class="text-center table-active">
            <th scope="col">車號</th>
            <th scope="col">車款</th>
            <th scope="col">顏色</th>
            <th scope="col">狀態</th>
            <th scope="col">地址</th>
        </tr>
    </thead>
    <tbody>
        {% for car in page_results %}
            <tr>
                <td><a href="{% url 'car_detail' pk=car.pk %}">{{ car.CARNO }}</a></td>
                <td>{{ car.CARTYPE }}</td>
                <td>{{ car.CARCOLOR }}</td>
                <td>{{ car.FINDMODE }}</td>
                <td>{{ car.ADDR1 }}</td>
            </tr>
        {% endfor %}
    </tbody>
</table>
<!--頁碼實現-->
<ul class="pagination">
    <li class="page-item">
    <!--判斷是否有上一頁-->
    {% if page_results.has_previous %}
        <a class="page-link" href="?page={{ page_results.previous_page_number }}" aria-label="Previous">
        <span aria-hidden="true">&laquo;</span></a>
    {% else %}
        <span class="page-link" aria-hidden="true">&laquo;</span>
    {% endif %}
    </li>
    {% for page_num in page_results.paginator.page_range%}
    <li class="page-item"><a class="page-link" href="?page={{ page_num }}">{{ page_num }}</a></li>
    {% endfor %}
    <!--是否有下一頁 -->
    <li class="page-item">
    <!--判斷是否有上一頁-->
    {% if page_results.has_next %}
        <a class="page-link" href="?page={{ page_results.next_page_number }}" aria-label="Next">
            <span aria-hidden="true">&raquo;</span>
        </a>
    {% else %}
        <span class="page-link" aria-hidden="true">&raquo;</span>
    {% endif %}
    </li>
</ul>
<span>總筆數：{{ row_count }}</span>
</div>
    </div>
</div>
{% endblock container %}
{% block css %}
<style>
    .data-row {
        cursor: pointer;
    }

    tr.fake_has_location_data > td {
        color: blue;
        font-weight: bold;
    }

    #car_data > table th,
    #car_data > table td {
        white-space: nowrap;
    }
</style>
{% endblock %}